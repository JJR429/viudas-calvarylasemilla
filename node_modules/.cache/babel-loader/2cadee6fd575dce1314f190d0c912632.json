{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/node_modules/thread-loader/dist/cjs.js!/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/node_modules/babel-loader/lib/index.js!/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/node_modules/eslint-loader/index.js??ref--13-0!/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/src/router/auth.js","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/src/router/auth.js","mtime":1611885049881},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvQXBwbGljYXRpb25zL1hBTVBQL3hhbXBwZmlsZXMvaHRkb2NzL3Z1ZS92aXVkYXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLyAvKiBnbG9iYWxzIGxvY2FsU3RvcmFnZSAqLwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZS9pbmRleCI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBsb2dpbkFkbWluOiBmdW5jdGlvbiBsb2dpbkFkbWluKHVzZXJuYW1lLCBwYXNzLCBjYikgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBjYiA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07CgogICAgaWYgKGxvY2FsU3RvcmFnZS50b2tlbikgewogICAgICBpZiAoY2IpIGNiKHRydWUpOwogICAgICB0aGlzLm9uQ2hhbmdlKHRydWUpOwogICAgICByZXR1cm47CiAgICB9CgogICAgdmVyaWZ5QWRtaW4odXNlcm5hbWUsIHBhc3MsIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgaWYgKHJlcy5hdXRoZW50aWNhdGVkKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnRva2VuID0gcmVzLnRva2VuOwogICAgICAgIGlmIChjYikgY2IodHJ1ZSk7CgogICAgICAgIF90aGlzLm9uQ2hhbmdlKHRydWUpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChjYikgY2IoZmFsc2UpOwoKICAgICAgICBfdGhpcy5vbkNoYW5nZShmYWxzZSk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbG9naW5Vc2VyOiBmdW5jdGlvbiBsb2dpblVzZXIodXNlcm5hbWUsIHBhc3MsIGNiKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICBjYiA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07CgogICAgaWYgKGxvY2FsU3RvcmFnZS50b2tlbikgewogICAgICBpZiAoY2IpIGNiKHRydWUpOwogICAgICB0aGlzLm9uQ2hhbmdlKHRydWUpOwogICAgICByZXR1cm47CiAgICB9CgogICAgdmVyaWZ5VXNlcih1c2VybmFtZSwgcGFzcywgZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAocmVzLmF1dGhlbnRpY2F0ZWQpIHsKICAgICAgICBsb2NhbFN0b3JhZ2UudG9rZW4gPSByZXMudG9rZW47CiAgICAgICAgaWYgKGNiKSBjYih0cnVlKTsKCiAgICAgICAgX3RoaXMyLm9uQ2hhbmdlKHRydWUpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChjYikgY2IoZmFsc2UpOwoKICAgICAgICBfdGhpczIub25DaGFuZ2UoZmFsc2UpOwogICAgICB9CiAgICB9KTsKICB9LAogIGdldFRva2VuOiBmdW5jdGlvbiBnZXRUb2tlbigpIHsKICAgIHJldHVybiBsb2NhbFN0b3JhZ2UudG9rZW47CiAgfSwKICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChjYikgewogICAgc3RvcmUuZGlzcGF0Y2goImRlbGV0ZUN1cnJlbnRVc2VyIik7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiY3VycmVudFVzZXIiKTsKICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2UudG9rZW47CiAgICBpZiAoY2IpIGNiKCk7CiAgICB0aGlzLm9uQ2hhbmdlKGZhbHNlKTsKICB9LAogIGxvZ2dlZEluOiBmdW5jdGlvbiBsb2dnZWRJbigpIHsKICAgIGlmIChsb2NhbFN0b3JhZ2UudG9rZW4pIHsKICAgICAgc3RvcmUuZGlzcGF0Y2goImxvYWRMb2NhbFN0b3JhZ2UiKTsKICAgIH0KCiAgICByZXR1cm4gISFsb2NhbFN0b3JhZ2UudG9rZW47CiAgfSwKICB0eXBlTG9naW46IGZ1bmN0aW9uIHR5cGVMb2dpbigpIHsKICAgIHZhciBfdHlwZXVzZXIgPSBudWxsOwoKICAgIHRyeSB7CiAgICAgIF90eXBldXNlciA9IHN0b3JlLmdldHRlcnMuZ2V0VHlwZVVzZXI7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICBfdHlwZXVzZXIgPSBudWxsOwogICAgfQoKICAgIHJldHVybiBfdHlwZXVzZXI7CiAgfSwKICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7fQp9OwoKZnVuY3Rpb24gdmVyaWZ5QWRtaW4oX3gsIF94MiwgX3gzKSB7CiAgcmV0dXJuIF92ZXJpZnlBZG1pbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfdmVyaWZ5QWRtaW4oKSB7CiAgX3ZlcmlmeUFkbWluID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHVzZXJuYW1lLCBwYXNzLCBjYikgewogICAgdmFyIF9kYXRhOwoKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2RhdGEgPSBuZXcgRm9ybURhdGEoKTsKCiAgICAgICAgICAgIF9kYXRhLnNldCgidXNlcm5hbWUiLCB1c2VybmFtZSk7CgogICAgICAgICAgICBfZGF0YS5zZXQoInBhc3N3b3JkIiwgcGFzcyk7IC8vIGNvbnNvbGUubG9nKF91c2VyLnVzZXJuYW1lICsnIHwgJysgX3VzZXIucGFzc3dvcmQpCgoKICAgICAgICAgICAgYXhpb3MoewogICAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICAgIHVybDogImh0dHBzOi8vY2FwcHN0dWRpb3MuY29tL3Rvb2xzL3ZpdWRhcy9hcGkvYWN0aW9ucy9hZG1pbi5sb2dpbi5waHAiLAogICAgICAgICAgICAgIGRhdGE6IF9kYXRhLAogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAvL2hhbmRsZSBzdWNjZXNzCiAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5kYXRhLmVycm9yKSB7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLm1lc3NhZ2UpCiAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgic2V0Q3VycmVudFVzZXIiLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhLmRhdGEpKTsKICAgICAgICAgICAgICAgIGNiKHsKICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdG9rZW46IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZyg3KQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEubWVzc2FnZSkKICAgICAgICAgICAgICAgIGNiKHsKICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2UKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgLy9oYW5kbGUgZXJyb3IKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgY2IoewogICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2UKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX3ZlcmlmeUFkbWluLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIHZlcmlmeVVzZXIoX3g0LCBfeDUsIF94NikgewogIHJldHVybiBfdmVyaWZ5VXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfdmVyaWZ5VXNlcigpIHsKICBfdmVyaWZ5VXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodXNlcm5hbWUsIHBhc3MsIGNiKSB7CiAgICB2YXIgX2RhdGE7CgogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2RhdGEgPSBuZXcgRm9ybURhdGEoKTsKCiAgICAgICAgICAgIF9kYXRhLnNldCgidXNlcm5hbWUiLCB1c2VybmFtZSk7CgogICAgICAgICAgICBfZGF0YS5zZXQoInBhc3N3b3JkIiwgcGFzcyk7IC8vIGNvbnNvbGUubG9nKF91c2VyLnVzZXJuYW1lICsnIHwgJysgX3VzZXIucGFzc3dvcmQpCgoKICAgICAgICAgICAgYXhpb3MoewogICAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICAgIHVybDogImh0dHBzOi8vY2FwcHN0dWRpb3MuY29tL3Rvb2xzL3ZpdWRhcy9hcGkvYWN0aW9ucy91c2VyLmxvZ2luLnBocCIsCiAgICAgICAgICAgICAgZGF0YTogX2RhdGEsCiAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIC8vaGFuZGxlIHN1Y2Nlc3MKICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLmRhdGEuZXJyb3IpIHsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEubWVzc2FnZSkKICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCJzZXRDdXJyZW50VXNlciIsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEuZGF0YSkpOwogICAgICAgICAgICAgICAgY2IoewogICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiB0cnVlLAogICAgICAgICAgICAgICAgICB0b2tlbjogTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5tZXNzYWdlKQogICAgICAgICAgICAgICAgY2IoewogICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAvL2hhbmRsZSBlcnJvcgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICBjYih7CiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CiAgcmV0dXJuIF92ZXJpZnlVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0="},{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/src/router/auth.js"],"names":["store","axios","loginAdmin","username","pass","cb","arguments","length","localStorage","token","onChange","verifyAdmin","res","authenticated","loginUser","verifyUser","getToken","logout","dispatch","removeItem","loggedIn","typeLogin","_typeuser","getters","getTypeUser","error","_data","FormData","set","method","url","data","headers","then","response","JSON","stringify","Math","random","toString","substring","catch","console","log"],"mappings":"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","sourcesContent":["// /* globals localStorage */\nimport store from \"@/store/index\";\nimport axios from \"axios\";\n\nexport default {\n  loginAdmin(username, pass, cb) {\n    cb = arguments[arguments.length - 1];\n    if (localStorage.token) {\n      if (cb) cb(true);\n      this.onChange(true);\n      return;\n    }\n    verifyAdmin(username, pass, res => {\n      if (res.authenticated) {\n        localStorage.token = res.token;\n        if (cb) cb(true);\n        this.onChange(true);\n      } else {\n        if (cb) cb(false);\n        this.onChange(false);\n      }\n    });\n  },\n\n  loginUser(username, pass, cb) {\n    cb = arguments[arguments.length - 1];\n    if (localStorage.token) {\n      if (cb) cb(true);\n      this.onChange(true);\n      return;\n    }\n    verifyUser(username, pass, res => {\n      if (res.authenticated) {\n        localStorage.token = res.token;\n        if (cb) cb(true);\n        this.onChange(true);\n      } else {\n        if (cb) cb(false);\n        this.onChange(false);\n      }\n    });\n  },\n\n  getToken() {\n    return localStorage.token;\n  },\n\n  logout(cb) {\n    store.dispatch(\"deleteCurrentUser\");\n    localStorage.removeItem(\"currentUser\");\n    delete localStorage.token;\n    if (cb) cb();\n    this.onChange(false);\n  },\n\n  loggedIn() {\n    if (localStorage.token) {\n      store.dispatch(\"loadLocalStorage\");\n    }\n    return !!localStorage.token;\n  },\n\n  typeLogin() {\n    let _typeuser = null;\n    try {\n      _typeuser = store.getters.getTypeUser;\n    } catch (error) {\n      _typeuser = null;\n    }\n    return _typeuser;\n  },\n\n  onChange() {}\n};\n\nasync function verifyAdmin(username, pass, cb) {\n  let _data = new FormData();\n  _data.set(\"username\", username);\n  _data.set(\"password\", pass);\n  // console.log(_user.username +' | '+ _user.password)\n  axios({\n    method: \"post\",\n    url: \"https://cappstudios.com/tools/viudas/api/actions/admin.login.php\",\n    data: _data,\n    headers: {\n      \"content-type\": \"application/x-www-form-urlencoded\"\n    }\n  })\n    .then(function(response) {\n      //handle success\n      if (!response.data.error) {\n        // console.log(response.data.message)\n        store.dispatch(\"setCurrentUser\", JSON.stringify(response.data.data));\n        cb({\n          authenticated: true,\n          token: Math.random()\n            .toString(36)\n            .substring(7)\n        });\n      } else {\n        // console.log(response.data.message)\n        cb({ authenticated: false });\n      }\n    })\n    .catch(function(response) {\n      //handle error\n      console.log(response);\n      cb({ authenticated: false });\n    });\n}\n\nasync function verifyUser(username, pass, cb) {\n  let _data = new FormData();\n  _data.set(\"username\", username);\n  _data.set(\"password\", pass);\n  // console.log(_user.username +' | '+ _user.password)\n  axios({\n    method: \"post\",\n    url: \"https://cappstudios.com/tools/viudas/api/actions/user.login.php\",\n    data: _data,\n    headers: {\n      \"content-type\": \"application/x-www-form-urlencoded\"\n    }\n  })\n    .then(function(response) {\n      //handle success\n      if (!response.data.error) {\n        // console.log(response.data.message)\n        store.dispatch(\"setCurrentUser\", JSON.stringify(response.data.data));\n        cb({\n          authenticated: true,\n          token: Math.random()\n            .toString(36)\n            .substring(7)\n        });\n      } else {\n        // console.log(response.data.message)\n        cb({ authenticated: false });\n      }\n    })\n    .catch(function(response) {\n      //handle error\n      console.log(response);\n      cb({ authenticated: false });\n    });\n}\n"]}]}