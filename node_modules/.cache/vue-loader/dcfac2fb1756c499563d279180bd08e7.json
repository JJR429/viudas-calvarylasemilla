{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/src/views/RegistrarseDocente.vue?vue&type=style&index=0&id=d15d0966&scoped=true&lang=css&","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/src/views/RegistrarseDocente.vue","mtime":1586659769553},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouaWNvbi1nZW5kZXIgewogIHdpZHRoOiA1MHB4Owp9Cg=="},{"version":3,"sources":["RegistrarseDocente.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwYA;AACA;AACA","file":"RegistrarseDocente.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"singup\">\n    <header\n      class=\"page-header page-header-dark bg-img-repeat bg-warning\"\n      style='background-image: url(\"assets/img/pattern-shapes.png\")'\n    >\n      <div class=\"page-header-content\">\n        <div class=\"container\">\n          <div class=\"row align-items-center\">\n            <div class=\"col-lg-5\">\n              <div\n                class=\"badge badge-marketing badge-pill badge-secondary-soft text-secondary mb-3\"\n              >\n                Para Docentes\n              </div>\n              <h1 class=\"page-header-title\">Registrate como Docente!</h1>\n              <p class=\"page-header-text\">\n                Podrás crear Cursos, Temas, Clases y Preguntas para tus\n                estudiantes.\n              </p>\n              <p class=\"text-white mt-5\">¿Ya tienes una cuenta?</p>\n              <router-link\n                class=\"btn btn-white btn-marketing rounded-pill\"\n                :to=\"{ path: '/docente' }\"\n                >Iniciar Sesion!</router-link\n              >\n            </div>\n            <div class=\"col-lg-7\">\n              <div class=\"card rounded-lg text-dark\">\n                <div class=\"card-header py-4\">\n                  Regístrate y empieza a enseñar!\n                </div>\n                <div class=\"card-body\">\n                  <form @submit.prevent=\"register\">\n                    <div class=\"form-row\">\n                      <div class=\"form-group col-md-6\">\n                        <label\n                          class=\"small text-gray-600\"\n                          for=\"leadCapFirstName\"\n                          >Nombres</label\n                        >\n                        <input\n                          v-model=\"name\"\n                          class=\"form-control\"\n                          type=\"text\"\n                          placeholder=\"Escribe tu nombre \"\n                        />\n                      </div>\n                      <div class=\"form-group col-md-6\">\n                        <label class=\"small text-gray-600\" for=\"leadCapLastName\"\n                          >Apellidos</label\n                        >\n                        <input\n                          v-model=\"lastname\"\n                          class=\"form-control\"\n                          type=\"text\"\n                          placeholder=\"Escribe tus apellidos \"\n                        />\n                      </div>\n                    </div>\n                    <div class=\"form-row\">\n                      <div class=\"form-group col-md-6\">\n                        <label class=\"small text-gray-600\"\n                          >Escoge tu Sexo</label\n                        >\n                        <select\n                          v-model=\"gender\"\n                          class=\"form-control rounded-pill\"\n                        >\n                          <option value=\"0\">Escoge una opción</option>\n                          <option value=\"F\">Soy Profesora</option>\n                          <option value=\"M\">Soy Profesor</option>\n                        </select>\n                      </div>\n                      <div class=\"form-group col-md-6 mt-3\">\n                        <img\n                          class=\"icon-gender\"\n                          src=\"https://image.flaticon.com/icons/svg/1876/1876943.svg\"\n                          v-if=\"gender == 'F'\"\n                        />\n                        <img\n                          class=\"icon-gender\"\n                          src=\"https://image.flaticon.com/icons/svg/1876/1876775.svg\"\n                          v-else-if=\"gender == 'M'\"\n                        />\n                      </div>\n                    </div>\n                    <div class=\"form-row\">\n                      <div class=\"form-group col-md-6\">\n                        <label\n                          class=\"small text-gray-600\"\n                          for=\"leadCapFirstName\"\n                          >Correo y/o Usuario</label\n                        >\n                        <input\n                          v-model=\"email\"\n                          class=\"form-control\"\n                          type=\"text\"\n                          placeholder=\"nombre@ejemplo.com\"\n                        />\n                      </div>\n                      <div class=\"form-group col-md-6\">\n                        <label class=\"small text-gray-600\" for=\"leadCapLastName\"\n                          >Contraseña</label\n                        >\n                        <input\n                          v-model=\"pass\"\n                          class=\"form-control\"\n                          type=\"password\"\n                          placeholder=\"4 dígitos a más\"\n                        />\n                      </div>\n                    </div>\n                    <div class=\"form-row\">\n                      <div class=\"form-group col-md-6\">\n                        <label class=\"small text-gray-600\">Colegio</label>\n                        <select\n                          v-model=\"idcolegio\"\n                          class=\"form-control rounded-pill\"\n                        >\n                          <option value=\"0\">Seleccione Colegio...</option>\n                          <option value=\"2\">Ricardo Palma de Saylla</option>\n                          <option value=\"1\">Colegio Studia</option>\n                        </select>\n                      </div>\n                      <div class=\"form-group col-md-6\">\n                        <label class=\"small text-gray-600\" for=\"leadCapLastName\"\n                          >¿Enseña en Primaria o Secundaria?</label\n                        >\n                        <select\n                          v-model=\"categoria_grado\"\n                          class=\"form-control rounded-pill\"\n                          @change=\"resetGrados()\"\n                        >\n                          <option value=\"0\">Seleccione..</option>\n                          <option value=\"1\">Primaria</option>\n                          <option value=\"2\">Secundaria</option>\n                        </select>\n                      </div>\n                    </div>\n\n                    <div class=\"form-row\">\n                      <div\n                        class=\"form-group col-md-12 text-left\"\n                        v-if=\"categoria_grado == 1\"\n                      >\n                        <label class=\"small text-gray-600\"\n                          >Escoge los grados que enseñas</label\n                        ><br />\n                        <label\n                          class=\"pill bg-success-soft py-1 px-2 rounded mr-2\"\n                        >\n                          <input type=\"checkbox\" value=\"1\" v-model=\"grados\" />\n                          1º grado</label\n                        >\n                        <label class=\"pill bg-info-soft py-1 px-2 rounded mr-2\">\n                          <input type=\"checkbox\" value=\"2\" v-model=\"grados\" />\n                          2º grado</label\n                        >\n                        <label\n                          class=\"pill bg-warning-soft py-1 px-2 rounded mr-2\"\n                        >\n                          <input type=\"checkbox\" value=\"3\" v-model=\"grados\" />\n                          3º grado</label\n                        >\n                        <label\n                          class=\"pill bg-primary-soft py-1 px-2 rounded mr-2\"\n                        >\n                          <input type=\"checkbox\" value=\"4\" v-model=\"grados\" />\n                          4º grado</label\n                        >\n                        <label\n                          class=\"pill bg-danger-soft py-1 px-2 rounded mr-2\"\n                        >\n                          <input type=\"checkbox\" value=\"5\" v-model=\"grados\" />\n                          5º grado</label\n                        >\n                        <label\n                          class=\"pill bg-indigo-soft py-1 px-2 rounded mr-2\"\n                        >\n                          <input type=\"checkbox\" value=\"6\" v-model=\"grados\" />\n                          6º grado</label\n                        >\n                      </div>\n                      <div\n                        class=\"form-group col-md-12 text-left\"\n                        v-else-if=\"categoria_grado == 2\"\n                      >\n                        <label class=\"small text-gray-600\"\n                          >Escoge los grados que enseñas</label\n                        ><br />\n                        <label\n                          class=\"pill bg-success-soft py-1 px-2 rounded mr-2\"\n                        >\n                          <input type=\"checkbox\" value=\"7\" v-model=\"grados\" />\n                          1º grado</label\n                        >\n                        <label class=\"pill bg-info-soft py-1 px-2 rounded mr-2\">\n                          <input type=\"checkbox\" value=\"8\" v-model=\"grados\" />\n                          2º grado</label\n                        >\n                        <label\n                          class=\"pill bg-warning-soft py-1 px-2 rounded mr-2\"\n                        >\n                          <input type=\"checkbox\" value=\"9\" v-model=\"grados\" />\n                          3º grado</label\n                        >\n                        <label\n                          class=\"pill bg-primary-soft py-1 px-2 rounded mr-2\"\n                        >\n                          <input type=\"checkbox\" value=\"10\" v-model=\"grados\" />\n                          4º grado</label\n                        >\n                        <label\n                          class=\"pill bg-danger-soft py-1 px-2 rounded mr-2\"\n                        >\n                          <input type=\"checkbox\" value=\"11\" v-model=\"grados\" />\n                          5º grado</label\n                        >\n                      </div>\n                    </div>\n                    <button\n                      class=\"btn btn-primary btn-marketing btn-block rounded-pill mt-4\"\n                      type=\"submit\"\n                    >\n                      Registrarse!\n                    </button>\n                  </form>\n                </div>\n                <div class=\"card-footer\" v-if=\"error\">\n                  <span class=\"error-message text-danger\">\n                    {{ error_message }}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"svg-border-angled text-white\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 100 100\"\n          preserveAspectRatio=\"none\"\n          fill=\"currentColor\"\n        >\n          <polygon points=\"0,100 100,0 100,100\"></polygon>\n        </svg>\n      </div>\n    </header>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      name: \"\",\n      lastname: \"\",\n      email: \"\",\n      username: \"\",\n      pass: \"\",\n      idcolegio: 0,\n      categoria_grado: 0,\n      grados: [],\n      gender: 0,\n      error: false,\n      error_message: \"\"\n    };\n  },\n  methods: {\n    verifyInputs() {\n      if (!this.validateText(this.name)) {\n        this.error = true;\n        this.error_message = \"Ingresa tu Nombre\";\n        return false;\n      }\n      if (!this.validateText(this.lastname)) {\n        this.error = true;\n        this.error_message = \"Ingresa tus Apellidos\";\n        return false;\n      }\n      if (!this.validateSelects(this.gender)) {\n        this.error = true;\n        this.error_message = \"Escoje si eres Profesor o Profesora\";\n        return false;\n      }\n      if (!this.validateEmail(this.email)) {\n        this.error = true;\n        this.error_message = \"Ingrese un correo electrónico válido\";\n        return false;\n      }\n      if (!this.validatePass(this.pass)) {\n        this.error = true;\n        this.error_message = \"La contraseña debe ser mayor a 4 dígitos\";\n        return false;\n      }\n      if (!this.validateSelects(this.idcolegio)) {\n        this.error = true;\n        this.error_message = \"Escoge un Colegio\";\n        return false;\n      }\n      if (!this.validateSelects(this.categoria_grado)) {\n        this.error = true;\n        this.error_message =\n          \"Escoge una categoria de Grado (Primaria o Secundaria)\";\n        return false;\n      }\n      if (!this.validateGrados(this.grados)) {\n        this.error = true;\n        this.error_message = \"Escoge al menos un grado\";\n        return false;\n      }\n      return true;\n    },\n    async register() {\n      if (this.verifyInputs()) {\n        //call axios to sing up\n        // then go to singin ==== login\n        let _data = new FormData();\n        _data.set(\"name\", this.name);\n        _data.set(\"lastname\", this.lastname);\n        _data.set(\"email\", this.email);\n        _data.set(\"username\", this.username);\n        _data.set(\"password\", this.pass);\n        _data.set(\"idcolegio\", this.idcolegio);\n        _data.set(\"grados\", this.grados);\n        _data.set(\"gender\", this.gender);\n        // console.log(_user.username +' | '+ _user.password)\n        axios({\n          method: \"post\",\n          url:\n            \"https://cappstudios.com/tools/studia-pro/api/actions/docente.register.php\",\n          data: _data,\n          headers: {\n            \"content-type\": \"application/x-www-form-urlencoded\"\n          }\n        })\n          .then(response => {\n            //handle response\n            if (!response.data.error) {\n              this.error = false;\n              this.$router.replace(this.$route.query.redirect || \"/docente\");\n            } else {\n              //api sends 2 type of errors by code\n              //1: Email exists; 2: Error while inserting\n              this.error = true;\n              if (response.data.code == 1) {\n                this.error_message =\n                  \"El correo eléctronico ya esta registrado, intenta con otro!\";\n              } else {\n                this.error_message =\n                  \"Upps, tenemos problemas para registrarte!\";\n              }\n            }\n          })\n          .catch(response => {\n            //handle error\n            this.error = true;\n            this.error_message = \"Error al registrar Docente!\";\n            console.log(response);\n          });\n      }\n    },\n    validateEmail: function(email) {\n      var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n      return re.test(email);\n    },\n    validateText: function(text) {\n      return text.length > 1 ? true : false;\n    },\n    validatePass: function(pass) {\n      return pass.length > 3 ? true : false;\n    },\n    validateSelects: function(value) {\n      return value != 0 ? true : false;\n    },\n    validateUsuario: function(str) {\n      return str.length > 3 ? true : false;\n    },\n    validateGrados: function(array) {\n      return array.length > 0 ? true : false;\n    },\n    resetGrados: function() {\n      this.grados = [];\n    }\n  }\n};\n</script>\n<style scoped>\n.icon-gender {\n  width: 50px;\n}\n</style>\n"]}]}