{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/src/views/viudas/Registro.vue?vue&type=style&index=0&id=4f7c8cb8&scoped=true&lang=css&","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/src/views/viudas/Registro.vue","mtime":1611691968550},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/viudas/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouaWNvbi1kZXRhaWxzIHsKICB3aWR0aDogNDBweDsKfQouaWNvbi1zdGFja3MgewogIGhlaWdodDogNTBweDsKfQoudGl0bGUtdGVtYSB7CiAgd2lkdGg6IDkwJTsKfQouaWNvbi1wbGF5IHsKICB3aWR0aDogMzVweDsKfQoudGl0bGUtY2xhc3MtY29udGVudCB7CiAgd2lkdGg6IDkwJTsKfQouaWNvbi10aXBvLWNsYXNlIHsKICB3aWR0aDogNTBweDsKfQpAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7CiAgLmhpZGUtb24tbW9iaWxlIHsKICAgIGRpc3BsYXk6IG5vbmU7CiAgfQp9Cg=="},{"version":3,"sources":["Registro.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAy+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Registro.vue","sourceRoot":"src/views/viudas","sourcesContent":["<template>\n  <div class=\"dashboard\">\n    <header\n      class=\"mt-5 mb-10 pb-10 page-header-light bg-white\"\n      v-if=\"!loanding\"\n    >\n      <div v-if=\"typeUser != 'Organizador'\">\n        <NotAccess />\n      </div>\n      <div v-else>\n        <div class=\"grado-error\" v-if=\"!error\">\n          <div class=\"page-header-content\">\n            <div class=\"container\">\n              <div class=\"row justify-content-center\">\n                <div class=\"col-xl-3 mb-5 mt-2\">\n                  <div class=\"align-items-center\">\n                    <router-link\n                      :to=\"{\n                        path: '/elecciones/'\n                      }\"\n                      class=\"btn btn-warning rounded-pill\"\n                      ><i class=\"fas fa-arrow-left\"></i> Regresar</router-link\n                    >\n                    <hr />\n                    {{ typeUser }}\n                  </div>\n                  <hr />\n                  <h1 class=\"text-blue font-weight-bold\">\n                    {{ currentUser.nombres }}\n                  </h1>\n                  <p class=\"page-header-text\">\n                    Agrega preguntas y opciones para las elecciones!\n                  </p>\n\n                  <hr />\n                  <h2>Organización</h2>\n                  <strong>Nombre:</strong>\n                  {{ currentUser.organizacion[0].nombres }}<br />\n                  <strong>Descripción:</strong>\n                  {{ currentUser.organizacion[0].descipcion }}<br />\n                  <strong>Dirección:</strong>\n                  {{ currentUser.organizacion[0].direccion }}<br />\n                  <template v-if=\"currentUser.organizacion[0].estado == 0\">\n                    <strong>Estado:</strong> <b class=\"text-warning\">INACTIVO</b\n                    ><br />\n                  </template>\n                  <template v-if=\"currentUser.organizacion[0].estado == 1\">\n                    <strong>Estado:</strong> <b class=\"text-warning\">ACTIVO</b\n                    ><br />\n                  </template>\n                  <template v-if=\"currentUser.organizacion[0].estado == 2\">\n                    <strong>Estado:</strong>\n                    <b class=\"text-warning\">SUSPENDIDO</b><br />\n                  </template>\n                  <strong>Fecha Creada:</strong>\n                  {{ currentUser.organizacion[0].fechacreada }}\n                </div>\n\n                <div class=\"col-xl-9 col-lg-10 text-center pt-2\">\n                  <div class=\"row d-flex justify-content-between mb-4\">\n                    <!-- Header section for buttons {create} -->\n                    <div>\n                      <h1 class=\"text-capitalize text-primary font-weight-bold\">\n                        <template v-if=\"!eleccion.loanding\">\n                          Preguntas para: {{ eleccion.data[0].nombres }}\n                        </template>\n                      </h1>\n                    </div>\n                    <div>\n                      <button\n                        class=\"btn btn-primary rounded-pill flit\"\n                        @click=\"openModalPreguntaSave()\"\n                        ref=\"btnPreguntaSave\"\n                      >\n                        Agregar Pregunta <i class=\"fas fa-plus\"></i>\n                      </button>\n                    </div>\n                  </div>\n                  <div class=\"content\">\n                    <div class=\"mb-2\" v-if=\"!preguntas.loanding\">\n                      <div v-if=\"preguntas.data.length > 0\">\n                        <div\n                          class=\"card mb-4\"\n                          v-for=\"(pregunta, index) in preguntas.data\"\n                          v-bind:todo=\"pregunta\"\n                          v-bind:key=\"pregunta.id\"\n                        >\n                          <div class=\"card-header justify-content-between\">\n                            <div\n                              class=\"icon-stack icon-stack bg-blue text-white flex-shrink-0 mr-4\"\n                            >\n                              {{ index + 1 }}\n                            </div>\n                            <div class=\"text-left title-tema\">\n                              <h2 class=\"text-blue font-weight-bold\">\n                                {{ pregunta.pregunta }}\n                              </h2>\n                            </div>\n                            <div class=\"d-flex\">\n                              <div>\n                                <button\n                                  class=\"btn btn-sm btn-blue-soft ml-2 mr-2 text-blue\"\n                                  @click=\"openModalOpcionSave(index)\"\n                                  ref=\"btnAddOpcion\"\n                                >\n                                  <i class=\"fas fa-plus\"></i>\n                                </button>\n                              </div>\n                              <div>\n                                <button\n                                  class=\"btn btn-sm btn-indigo-soft ml-2 mr-2 text-indigo\"\n                                  @click=\"openModalPreguntaUpdate(index)\"\n                                  ref=\"btnPreguntaUpdate\"\n                                >\n                                  <i class=\"fas fa-edit\"></i>\n                                </button>\n                              </div>\n                              <div>\n                                <button\n                                  class=\"btn btn-sm btn-red-soft ml-2 mr-2 text-red\"\n                                  @click=\"openModalPreguntaDelete(index)\"\n                                  ref=\"btnDeletePregunta\"\n                                >\n                                  <i class=\"fas fa-trash-alt\"></i>\n                                </button>\n                              </div>\n                            </div>\n                          </div>\n                          <div class=\"card-body\">\n                            <p class=\"text-left\">{{ pregunta.descripcion }}</p>\n                            <h3 class=\"text-left text-blue font-weight-bold\">\n                              Opciones\n                            </h3>\n                            <div\n                              v-for=\"(opcion,\n                              opcion_index) in pregunta.opciones\"\n                              v-bind:todo=\"opcion\"\n                              v-bind:key=\"opcion.id\"\n                            >\n                              <div\n                                class=\"card bg-green-soft py-2 pl-2 pr-2 mt-2 mb-2\"\n                              >\n                                <div class=\"d-flex justify-content-between\">\n                                  <div\n                                    class=\"icon-stack icon-stack bg-white-soft font-weight-bold text-black flex-shrink-0\"\n                                  >\n                                    {{ opcion_index + 1 }}\n                                  </div>\n                                  <div\n                                    class=\"title-class-content text-left pl-3 pt-1\"\n                                  >\n                                    <span class=\"text-dark font-weight-bold\">{{\n                                      opcion.opcion\n                                    }}</span>\n                                  </div>\n                                  <div class=\"d-flex mt-1\">\n                                    <div>\n                                      <button\n                                        class=\"btn btn-xs btn-indigo-soft ml-2 mr-2 text-indigo\"\n                                        @click=\"\n                                          openModalOpcionUpdate(\n                                            index,\n                                            opcion_index\n                                          )\n                                        \"\n                                      >\n                                        <i class=\"fas fa-edit\"></i>\n                                      </button>\n                                    </div>\n                                    <div>\n                                      <button\n                                        class=\"btn-xs btn-red-soft ml-2 mr-2 text-red\"\n                                        @click=\"\n                                          openModalOpcionDelete(\n                                            index,\n                                            opcion_index\n                                          )\n                                        \"\n                                      >\n                                        <i class=\"fas fa-trash-alt\"></i>\n                                      </button>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div\n                        v-else\n                        class=\"list-group list-group-flush text-left py-5 px-5\"\n                      >\n                        <h2 class=\"text-warning\">\n                          No hay preguntas para esta elección.\n                        </h2>\n                      </div>\n                    </div>\n                    <div class=\"mb-2\" v-else>\n                      <h2>Cargando...</h2>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Modal Save Pregunta -->\n          <b-modal id=\"modalPreguntaSave\" centered>\n            <template v-slot:modal-header=\"\">\n              <h3 class=\"modal-title text-blue\">\n                Agrega una pregunta a la Elección\n              </h3>\n            </template>\n            <template v-slot:default=\"\">\n              <div class=\"form-row\">\n                <div class=\"form-group col-md-12 text-left\">\n                  <label class=\"small text-gray-600\" for=\"leadCapFirstName\"\n                    >Pregunta</label\n                  >\n                  <input\n                    v-model=\"preguntaToSave.pregunta\"\n                    class=\"form-control\"\n                    type=\"text\"\n                  />\n                </div>\n              </div>\n              <div class=\"form-row\">\n                <div class=\"form-group col-md-12 text-left\">\n                  <label class=\"small text-gray-600\" for=\"leadCapFirstName\"\n                    >Descripción de la pregunta</label\n                  >\n                  <textarea\n                    v-model=\"preguntaToSave.descripcion\"\n                    class=\"form-control\"\n                    type=\"text\"\n                  />\n                </div>\n              </div>\n              <div class=\"error-modal\" v-if=\"preguntaToSave.error\">\n                <span class=\"text-red\">\n                  {{ preguntaToSave.error_message }}</span\n                >\n              </div>\n            </template>\n\n            <template v-slot:modal-footer=\"{ ok, cancel }\">\n              <b-button\n                size=\"md\"\n                class=\"btn btn-white rounded-pill\"\n                @click=\"cancel()\"\n              >\n                Cancelar\n              </b-button>\n              <b-button\n                size=\"md\"\n                class=\"btn btn-blue rounded-pill\"\n                @click=\"savePregunta\"\n                ref=\"btnSavePregunta\"\n              >\n                <i class=\"fas fa-pencil-alt\"></i> Agregar Pregunta\n              </b-button>\n            </template>\n          </b-modal>\n          <!-- End modal -->\n\n          <!-- Modal Update Pregunta -->\n          <b-modal id=\"modalPreguntaUpdate\" centered>\n            <template v-slot:modal-header=\"\">\n              <h3 class=\"modal-title text-blue\">\n                Editar Pregunta\n                <span class=\"font-weight-bold\">{{\n                  preguntaToUpdate.pregunta\n                }}</span>\n              </h3>\n            </template>\n            <template v-slot:default=\"\">\n              <div class=\"form-row\">\n                <div class=\"form-group col-md-12 text-left\">\n                  <label class=\"small text-gray-600\" for=\"leadCapFirstName\"\n                    >Pregunta</label\n                  >\n                  <input\n                    v-model=\"preguntaToUpdate.pregunta\"\n                    class=\"form-control\"\n                    type=\"text\"\n                  />\n                </div>\n              </div>\n              <div class=\"form-row\">\n                <div class=\"form-group col-md-12 text-left\">\n                  <label class=\"small text-gray-600\" for=\"leadCapFirstName\"\n                    >Descripción de la pregunta</label\n                  >\n                  <textarea\n                    v-model=\"preguntaToUpdate.descripcion\"\n                    class=\"form-control\"\n                    type=\"text\"\n                  />\n                </div>\n              </div>\n              <div class=\"error-modal\" v-if=\"preguntaToUpdate.error\">\n                <span class=\"text-red\">\n                  {{ preguntaToUpdate.error_message }}</span\n                >\n              </div>\n            </template>\n\n            <template v-slot:modal-footer=\"{ ok, cancel }\">\n              <b-button\n                size=\"md\"\n                class=\"btn btn-white rounded-pill\"\n                @click=\"cancel()\"\n              >\n                Cancelar\n              </b-button>\n              <b-button\n                size=\"md\"\n                class=\"btn btn-blue rounded-pill\"\n                @click=\"updatePregunta\"\n                ref=\"btnUpdatePregunta\"\n              >\n                <i class=\"fas fa-pencil-alt\"></i> Guardar Cambios\n              </b-button>\n            </template>\n          </b-modal>\n          <!-- End modal -->\n\n          <!-- Modal Delete Pregunta -->\n          <b-modal id=\"modalPreguntaDelete\" centered>\n            <template v-slot:modal-header=\"\">\n              <h3 class=\"modal-title\">Estás apunto de eliminar la pregunta:</h3>\n            </template>\n            <template v-slot:default=\"\">\n              <h4 class=\"text-red\">{{ preguntaToDelete.pregunta }}</h4>\n              <i class=\"small text-warning\"\n                >Recuerda que no podrás eliminar Preguntas que tienen opciones,\n                primero elimina todas las opciones para poder eliminar por\n                completo esta pregunta.</i\n              >\n            </template>\n            <template v-slot:modal-footer=\"{ ok, cancel }\">\n              <b-button\n                size=\"md\"\n                class=\"btn btn-white rounded-pill\"\n                @click=\"cancel()\"\n              >\n                Cancelar\n              </b-button>\n              <b-button\n                size=\"md\"\n                class=\"btn btn-red rounded-pill\"\n                @click=\"deletePregunta\"\n                ref=\"btnDeletePregunta\"\n              >\n                <i class=\"fas fa-trash-alt\"></i> Eliminar\n              </b-button>\n            </template>\n          </b-modal>\n          <!-- End modal -->\n\n          <!-- Modal Save Opcion -->\n          <b-modal id=\"modalOpcionSave\" centered>\n            <template v-slot:modal-header=\"\">\n              <h3 class=\"modal-title text-blue\">\n                Agrega una opción a la pregunta\n              </h3>\n            </template>\n            <template v-slot:default=\"\">\n              <div class=\"form-row\">\n                <div class=\"form-group col-md-12 text-left\">\n                  <label class=\"small text-gray-600\" for=\"leadCapFirstName\"\n                    >Opción</label\n                  >\n                  <input\n                    v-model=\"opcionToSave.opcion\"\n                    class=\"form-control\"\n                    type=\"text\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"error-modal\" v-if=\"opcionToSave.error\">\n                <span class=\"text-red\"> {{ opcionToSave.error_message }}</span>\n              </div>\n            </template>\n            <template v-slot:modal-footer=\"{ ok, cancel }\">\n              <b-button\n                size=\"md\"\n                class=\"btn btn-white rounded-pill\"\n                @click=\"cancel()\"\n              >\n                Cancelar\n              </b-button>\n              <b-button\n                size=\"md\"\n                class=\"btn btn-blue rounded-pill\"\n                @click=\"saveOpcion\"\n                ref=\"btnSaveOpcion\"\n              >\n                <i class=\"fas fa-pencil-alt\"></i> Agregar Opción\n              </b-button>\n            </template>\n          </b-modal>\n          <!-- End modal -->\n\n          <!-- Modal Update Opcion -->\n          <b-modal id=\"modalOpcionUpdate\" centered>\n            <template v-slot:modal-header=\"\">\n              <h3 class=\"modal-title text-blue\">Modificar Opción</h3>\n            </template>\n            <template v-slot:default=\"\">\n              <span>\n                Pregunta: <small>{{ opcionToUpdate.pregunta }} </small></span\n              >\n              <div class=\"form-row\">\n                <div class=\"form-group col-md-12 text-left\">\n                  <label class=\"text-gray-600\" for=\"leadCapFirstName\"\n                    >Opción:</label\n                  >\n                  <input\n                    v-model=\"opcionToUpdate.opcion\"\n                    class=\"form-control\"\n                    type=\"text\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"error-modal\" v-if=\"opcionToUpdate.error\">\n                <span class=\"text-red\">\n                  {{ opcionToUpdate.error_message }}</span\n                >\n              </div>\n            </template>\n            <template v-slot:modal-footer=\"{ ok, cancel }\">\n              <b-button\n                size=\"md\"\n                class=\"btn btn-white rounded-pill\"\n                @click=\"cancel()\"\n              >\n                Cancelar\n              </b-button>\n              <b-button\n                size=\"md\"\n                class=\"btn btn-blue rounded-pill\"\n                @click=\"updateOpcion\"\n                ref=\"btnUpdateOpcion\"\n              >\n                <i class=\"fas fa-pencil-alt\"></i> Guardar Cambios\n              </b-button>\n            </template>\n          </b-modal>\n          <!-- End modal -->\n\n          <!-- Modal Delete Opcion -->\n          <b-modal id=\"modalOpcionDelete\" centered>\n            <template v-slot:modal-header=\"\">\n              <h3 class=\"modal-title\">Estás apunto de eliminar la opción:</h3>\n            </template>\n            <template v-slot:default=\"\">\n              <h4 class=\"text-red\">{{ opcionToDelete.opcion }}</h4>\n              <span>\n                Pregunta: <small>{{ opcionToDelete.pregunta }} </small></span\n              >\n            </template>\n            <template v-slot:modal-footer=\"{ ok, cancel }\">\n              <b-button\n                size=\"md\"\n                class=\"btn btn-white rounded-pill\"\n                @click=\"cancel()\"\n              >\n                Cancelar\n              </b-button>\n              <b-button\n                size=\"md\"\n                class=\"btn btn-red rounded-pill\"\n                @click=\"deleteOpcion\"\n                ref=\"btnDeleteOpcion\"\n              >\n                <i class=\"fas fa-trash-alt\"></i> Eliminar\n              </b-button>\n            </template>\n          </b-modal>\n          <!-- End modal -->\n        </div>\n        <div v-else class=\"mt-5 mb-5\">\n          <h2>\n            La URL que ingresaste está mal, intenta regresar a \"Elecciones!\"\n          </h2>\n          <router-link class=\"btn btn-primary\" :to=\"{ path: '/elecciones' }\"\n            >Regresar!</router-link\n          >\n        </div>\n      </div>\n    </header>\n\n    <div class=\"dash\" v-else>\n      <p>Loanding...</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NotAccess from \"@/components/NotAccess.vue\";\n\nimport axios from \"axios\";\n\nexport default {\n  components: {\n    NotAccess\n  },\n  data() {\n    return {\n      loanding: true,\n      error: true,\n      eleccion: {\n        data: [],\n        loanding: true\n      },\n      preguntas: {\n        data: [],\n        loanding: true\n      },\n      preguntaToSave: {\n        pregunta: \"\",\n        descripcion: \"\",\n        ideleccion: this.$route.params.id,\n        error: false,\n        error_message: \"\"\n      },\n      preguntaToUpdate: {\n        id: 0,\n        pregunta: \"\",\n        descripcion: \"\",\n        ideleccion: this.$route.params.id,\n        error: false,\n        error_message: \"\"\n      },\n      preguntaToDelete: {\n        id: 0,\n        nombre: \"\",\n        error: false,\n        error_message: \"\"\n      },\n      opcionToSave: {\n        opcion: \"\",\n        idpregunta: 0,\n        pregunta: \"\",\n        error: false,\n        error_message: \"\"\n      },\n      opcionToUpdate: {\n        id: 0,\n        opcion: \"\",\n        idpregunta: 0,\n        pregunta: \"\",\n        error: false,\n        error_message: \"\"\n      },\n      opcionToDelete: {\n        id: 0,\n        opcion: \"\",\n        pregunta: \"\",\n        error: false,\n        error_message: \"\"\n      },\n      host: this.$store.getters.getHost\n    };\n  },\n  props: {\n    id: {\n      type: String,\n      required: false\n    }\n  },\n  created() {\n    if (this.$route.params.id == null) {\n      this.error = true;\n      // console.log('Some Query Params are empty')\n    } else {\n      this.error = false;\n      this.getById();\n      this.getData();\n    }\n  },\n  computed: {\n    // getter\n    typeUser() {\n      return this.$store.getters.getTypeUser;\n    },\n    currentUser() {\n      // console.log('Current User Dash: '+this.$store.getters.getCurrentUserData)\n      return this.$store.getters.getCurrentUserData;\n    }\n  },\n  mounted() {\n    // getter\n    // this.currentUser = this.$store.getters.getCurrentUserData\n    this.loanding = false;\n  },\n  methods: {\n    getById: async function() {\n      this.eleccion.loanding = true;\n      let _organizacion = this.$store.getters.getCurrentUserData.organizacion[0]\n        .id;\n      const response = await fetch(\n        this.host +\n          \"/mayvoto/api/actions/elecciones.php?\" +\n          \"organizacion=\" +\n          _organizacion +\n          \"\"\n      );\n      const data = await response.json();\n      this.eleccion.data = await data;\n      this.eleccion.loanding = false;\n    },\n    getData: async function() {\n      this.preguntas.loanding = true;\n      let _ideleccion = this.$route.params.id;\n      let _idorganizacion = this.$store.getters.getCurrentUserData\n        .organizacion[0].id;\n      const response = await fetch(\n        this.host +\n          \"/mayvoto/api/actions/preguntas.data.json.php?ideleccion=\" +\n          _ideleccion +\n          \"&idorganizacion=\" +\n          _idorganizacion +\n          \"\"\n      );\n      const data = await response.json();\n      this.preguntas.data = await data;\n      this.preguntas.loanding = false;\n    },\n    savePregunta: async function() {\n      if (this.verifyInputsPreguntaToSave()) {\n        let _data = new FormData();\n        _data.set(\"pregunta\", this.preguntaToSave.pregunta);\n        _data.set(\"descripcion\", this.preguntaToSave.descripcion);\n        _data.set(\"ideleccion\", this.preguntaToSave.ideleccion);\n        axios({\n          method: \"post\",\n          url: this.host + \"/mayvoto/api/actions/preguntas.save.php\",\n          data: _data,\n          headers: {\n            \"content-type\": \"application/x-www-form-urlencoded\"\n          }\n        })\n          .then(response => {\n            //handle response\n            if (!response.data.error) {\n              // Guarda el curso, pero tenemos que poner al Grado.\n              this.resetPreguntaToSave();\n              this.preguntaToSave.error = false;\n              this.$root.$emit(\n                \"bv::hide::modal\",\n                \"modalPreguntaSave\",\n                \"#btnSavePregunta\"\n              );\n              this.getData();\n            } else {\n              this.preguntaToSave.error = false;\n              console.log(\"Erro on save the Curso\");\n            }\n          })\n          .catch(response => {\n            //handle error\n            this.preguntaToSave.error = true;\n            console.log(response);\n          });\n      }\n    },\n    updatePregunta: async function() {\n      if (this.verifyInputsPreguntaToUpdate()) {\n        let _data = new FormData();\n        _data.set(\"pregunta\", this.preguntaToUpdate.pregunta);\n        _data.set(\"descripcion\", this.preguntaToUpdate.descripcion);\n        _data.set(\"ideleccion\", this.preguntaToUpdate.ideleccion);\n        _data.set(\"id\", this.preguntaToUpdate.id);\n        axios({\n          method: \"post\",\n          url: this.host + \"/mayvoto/api/actions/preguntas.update.php\",\n          data: _data,\n          headers: {\n            \"content-type\": \"application/x-www-form-urlencoded\"\n          }\n        })\n          .then(response => {\n            if (!response.data.error) {\n              this.preguntaToUpdate.error = false;\n              this.$root.$emit(\n                \"bv::hide::modal\",\n                \"modalPreguntaUpdate\",\n                \"#btnUpdatePregunta\"\n              );\n              this.getData();\n            } else {\n              this.preguntaToUpdate.error = true;\n              this.preguntaToUpdate.error_message =\n                \"Error al actualizar la pregunta\";\n            }\n          })\n          .catch(response => {\n            //handle error\n            this.preguntaToUpdate.error = true;\n            this.preguntaToUpdate.error_message =\n              \"Error al actualizar la pregunta - axios\";\n            console.log(response);\n          });\n      }\n    },\n    deletePregunta: async function() {\n      let _data = new FormData();\n      _data.set(\"id\", this.preguntaToDelete.id);\n      axios({\n        method: \"post\",\n        url: this.host + \"/mayvoto/api/actions/preguntas.delete.php\",\n        data: _data,\n        headers: {\n          \"content-type\": \"application/x-www-form-urlencoded\"\n        }\n      })\n        .then(response => {\n          if (!response.data.error) {\n            // console.log('Udated!')\n            this.preguntaToDelete.error = false;\n            this.$root.$emit(\n              \"bv::hide::modal\",\n              \"modalPreguntaDelete\",\n              \"#btnDeletePregunta\"\n            );\n            this.getData();\n          } else {\n            console.log(\"Error on Delete!\");\n            this.preguntaToDelete.error = true;\n            this.preguntaToDelete.error_message = \"Error al Eliminar Pregunta\";\n          }\n        })\n        .catch(response => {\n          //handle error\n          this.preguntaToDelete.error = true;\n          this.preguntaToDelete.error_message =\n            \"Error al eliminar Pregunta - Axios\";\n          console.log(response);\n        });\n    },\n    saveOpcion: async function() {\n      if (this.verifyInputsOpcionToSave()) {\n        let _data = new FormData();\n        _data.set(\"opcion\", this.opcionToSave.opcion);\n        _data.set(\"idpregunta\", this.opcionToSave.idpregunta);\n        axios({\n          method: \"post\",\n          url: this.host + \"/mayvoto/api/actions/opciones.save.php\",\n          data: _data,\n          headers: {\n            \"content-type\": \"application/x-www-form-urlencoded\"\n          }\n        })\n          .then(response => {\n            //handle response\n            if (!response.data.error) {\n              // Guarda el curso, pero tenemos que poner al Grado.\n              this.resetOpcionToSave();\n              this.opcionToSave.error = false;\n              this.$root.$emit(\n                \"bv::hide::modal\",\n                \"modalOpcionSave\",\n                \"#btnSaveOpcion\"\n              );\n              this.getData();\n            } else {\n              this.opcionToSave.error = true;\n              this.opcionToSave.error_message = \"Error al guardar Opción\";\n              console.log(\"Erro on save the Curso\");\n            }\n          })\n          .catch(response => {\n            //handle error\n            this.opcionToSave.error = true;\n            this.opcionToSave.error_message = \"Error al guardar Opción\";\n            console.log(response);\n          });\n      }\n    },\n    updateOpcion: async function() {\n      if (this.verifyInputsOpcionToUpdate()) {\n        let _data = new FormData();\n        _data.set(\"opcion\", this.opcionToUpdate.opcion);\n        _data.set(\"idpregunta\", this.opcionToUpdate.idpregunta);\n        _data.set(\"id\", this.opcionToUpdate.id);\n        console.log(\"Ready for update Opcion!\");\n        axios({\n          method: \"post\",\n          url: this.host + \"/mayvoto/api/actions/opciones.update.php\",\n          data: _data,\n          headers: {\n            \"content-type\": \"application/x-www-form-urlencoded\"\n          }\n        })\n          .then(response => {\n            //handle response\n            if (!response.data.error) {\n              // Guarda el curso, pero tenemos que poner al Grado.\n              this.opcionToUpdate.error = false;\n              this.$root.$emit(\n                \"bv::hide::modal\",\n                \"modalOpcionUpdate\",\n                \"#btnUpdateOpcion\"\n              );\n              this.getData();\n            } else {\n              this.opcionToUpdate.error = true;\n              this.opcionToUpdate.error_message = \"Error al actualizar Opción\";\n              console.log(\"Error updating option!\");\n            }\n          })\n          .catch(response => {\n            //handle error\n            this.opcionToUpdate.error = true;\n            this.opcionToUpdate.error_message = \"Error al actualizar Opción\";\n            console.log(response);\n          });\n      }\n    },\n    deleteOpcion: async function() {\n      let _data = new FormData();\n      _data.set(\"id\", this.opcionToDelete.id);\n      axios({\n        method: \"post\",\n        url: this.host + \"/mayvoto/api/actions/opciones.delete.php\",\n        data: _data,\n        headers: {\n          \"content-type\": \"application/x-www-form-urlencoded\"\n        }\n      })\n        .then(response => {\n          //handle response\n          if (!response.data.error) {\n            // Guarda el curso, pero tenemos que poner al Grado.\n            this.opcionToDelete.error = false;\n            this.$root.$emit(\n              \"bv::hide::modal\",\n              \"modalOpcionDelete\",\n              \"#btnDeleteOpcion\"\n            );\n            this.getData();\n          } else {\n            this.opcionToDelete.error = true;\n            this.opcionToDelete.error_message = \"Error al eliminar Opción\";\n            console.log(\"Error on Delete option!\");\n          }\n        })\n        .catch(response => {\n          //handle error\n          this.opcionToDelete.error = true;\n          this.opcionToDelete.error_message = \"Error al eliminar Opción\";\n          console.log(response);\n        });\n    },\n    verifyInputsPreguntaToSave: function() {\n      if (!this.validateText(this.preguntaToSave.pregunta)) {\n        this.preguntaToSave.error = true;\n        this.preguntaToSave.error_message =\n          \"Ingrese una pregunta para las elecciones\";\n        return false;\n      }\n      return true;\n    },\n    verifyInputsPreguntaToUpdate: function() {\n      if (!this.validateText(this.preguntaToUpdate.pregunta)) {\n        this.cursoToUpdate.error = true;\n        this.cursoToUpdate.error_message = \"Ingrese una pregunta válida!\";\n        return false;\n      }\n      return true;\n    },\n    verifyInputsOpcionToSave: function() {\n      if (!this.validateText(this.opcionToSave.opcion)) {\n        this.opcionToSave.error = true;\n        this.opcionToSave.error_message = \"Ingrese una opción\";\n        return false;\n      }\n      if (!this.validateId(this.opcionToSave.idpregunta)) {\n        this.opcionToSave.error = true;\n        this.opcionToSave.error_message = \"Error en Id!\";\n        return false;\n      }\n      return true;\n    },\n    verifyInputsOpcionToUpdate: function() {\n      if (!this.validateText(this.opcionToUpdate.opcion)) {\n        this.opcionToUpdate.error = true;\n        this.opcionToUpdate.error_message = \"Ingrese una opción\";\n        return false;\n      }\n      if (!this.validateId(this.opcionToUpdate.idpregunta)) {\n        this.opcionToSave.error = true;\n        this.opcionToSave.error_message = \"Error en Id!\";\n        return false;\n      }\n      return true;\n    },\n    openModalPreguntaSave: function() {\n      this.$root.$emit(\n        \"bv::show::modal\",\n        \"modalPreguntaSave\",\n        \"#btnSavePregunta\"\n      );\n    },\n    resetPreguntaToSave: function() {\n      this.preguntaToSave.pregunta = \"\";\n      this.preguntaToSave.descripcion = \"\";\n    },\n    openModalPreguntaUpdate: function(_index) {\n      this.preguntaToUpdate.id = this.preguntas.data[_index].id;\n      this.preguntaToUpdate.pregunta = this.preguntas.data[_index].pregunta;\n      this.preguntaToUpdate.descripcion = this.preguntas.data[\n        _index\n      ].descripcion;\n      this.$root.$emit(\n        \"bv::show::modal\",\n        \"modalPreguntaUpdate\",\n        \"#btnPreguntaUpdate\"\n      );\n    },\n    openModalPreguntaDelete: function(_index) {\n      this.preguntaToDelete.id = this.preguntas.data[_index].id;\n      this.preguntaToDelete.pregunta = this.preguntas.data[_index].pregunta;\n      this.$root.$emit(\n        \"bv::show::modal\",\n        \"modalPreguntaDelete\",\n        \"#btnPreguntaDelete\"\n      );\n    },\n    openModalOpcionSave: function(_index) {\n      this.opcionToSave.idpregunta = this.preguntas.data[_index].id;\n      this.opcionToSave.pregunta = this.preguntas.data[_index].pregunta;\n      this.$root.$emit(\"bv::show::modal\", \"modalOpcionSave\", \"#btnAddOpcion\");\n    },\n    resetOpcionToSave: function() {\n      this.opcionToSave.opcion = \"\";\n      this.opcionToSave.idpregunta = 0;\n      this.opcionToSave.pregunta = \"\";\n    },\n    openModalOpcionUpdate: function(_index_pregunta, _index_opcion) {\n      this.opcionToUpdate.id = this.preguntas.data[_index_pregunta].opciones[\n        _index_opcion\n      ].id;\n      this.opcionToUpdate.opcion = this.preguntas.data[\n        _index_pregunta\n      ].opciones[_index_opcion].opcion;\n      this.opcionToUpdate.idpregunta = this.preguntas.data[_index_pregunta].id;\n      this.opcionToUpdate.pregunta = this.preguntas.data[\n        _index_pregunta\n      ].pregunta;\n      this.$root.$emit(\n        \"bv::show::modal\",\n        \"modalOpcionUpdate\",\n        \"#btnOpcionUpdate\"\n      );\n    },\n    openModalOpcionDelete: function(_index_pregunta, _index_opcion) {\n      this.opcionToDelete.id = this.preguntas.data[_index_pregunta].opciones[\n        _index_opcion\n      ].id;\n      this.opcionToDelete.opcion = this.preguntas.data[\n        _index_pregunta\n      ].opciones[_index_opcion].opcion;\n      this.opcionToDelete.pregunta = this.preguntas.data[\n        _index_pregunta\n      ].pregunta;\n      this.$root.$emit(\n        \"bv::show::modal\",\n        \"modalOpcionDelete\",\n        \"#btnOpcionDelete\"\n      );\n    },\n    validateText: function(str) {\n      return str.length > 1 ? true : false;\n    },\n    validateId: function(str) {\n      return str > 0 ? true : false;\n    },\n    validateSelects: function(value) {\n      return value != 0 ? true : false;\n    },\n    embedVideo: function(url) {\n      let video = url.split(\"watch?v=\");\n      let video_id = \"\";\n      if (video.length > 1) {\n        video_id = video[1];\n      } else {\n        video = url.split(\"be/\");\n        video_id = video[1];\n      }\n      return \"https://www.youtube.com/embed/\" + video_id;\n    }\n  }\n};\n</script>\n<style scoped>\n.icon-details {\n  width: 40px;\n}\n.icon-stacks {\n  height: 50px;\n}\n.title-tema {\n  width: 90%;\n}\n.icon-play {\n  width: 35px;\n}\n.title-class-content {\n  width: 90%;\n}\n.icon-tipo-clase {\n  width: 50px;\n}\n@media only screen and (max-width: 600px) {\n  .hide-on-mobile {\n    display: none;\n  }\n}\n</style>\n"]}]}