{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/src/views/CursoClase.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/src/views/CursoClase.vue","mtime":1586294174421},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2xhc2VEYXRhOiBbXSwKICAgICAgY3VycmVudENsYXNlOiBbXSwKICAgICAgbmV4dGNsYXNlOiBudWxsLAogICAgICBwcmV2Y2xhc2U6IG51bGwsCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIGVycm9yOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBpZiAoCiAgICAgIHRoaXMuJHJvdXRlLnF1ZXJ5LnRlbWEgPT0gbnVsbCB8fAogICAgICB0aGlzLiRyb3V0ZS5xdWVyeS5jbGFzZSA9PSBudWxsIHx8CiAgICAgIHRoaXMuJHJvdXRlLnF1ZXJ5LmN1cnNvID09IG51bGwKICAgICkgewogICAgICB0aGlzLmVycm9yID0gdHJ1ZTsKICAgICAgLy8gY29uc29sZS5sb2coJ1NvbWUgUXVlcnkgUGFyYW1zIGFyZSBlbXB0eScpCiAgICB9IGVsc2UgewogICAgICB0aGlzLmdldENsYXNlc0RhdGEoCiAgICAgICAgdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRJZENvbGVnaW8sCiAgICAgICAgdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRJZEdyYWRvLAogICAgICAgIHRoaXMuJHJvdXRlLnF1ZXJ5LmN1cnNvCiAgICAgICk7CgogICAgICAvLyB0aGlzLmdldENsYXNlc0RhdGEodGhpcy4kcm91dGUucXVlcnkudGVtYSkKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldENsYXNlc0RhdGE6IGFzeW5jIGZ1bmN0aW9uKF9jb2xlZ2lvLCBfZ3JhZG8sIF9zbHVnKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goCiAgICAgICAgImh0dHBzOi8vY2FwcHN0dWRpb3MuY29tL3Rvb2xzL3N0dWRpYS1wcm8vYXBpL2FjdGlvbnMvY2xhc2VzLmRhdGEuanNvbi5waHA/Y29sZWdpbz0iICsKICAgICAgICAgIF9jb2xlZ2lvICsKICAgICAgICAgICImZ3JhZG89IiArCiAgICAgICAgICBfZ3JhZG8gKwogICAgICAgICAgIiZzbHVnPSIgKwogICAgICAgICAgX3NsdWcKICAgICAgKTsKICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgdGhpcy5jbGFzZURhdGEgPSBhd2FpdCBkYXRhOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2xhc2VEYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3QgY2xhc2UgPSB0aGlzLmNsYXNlRGF0YVtpXTsKICAgICAgICBpZiAoY2xhc2UuaWQgPT0gdGhpcy4kcm91dGUucXVlcnkuY2xhc2UpIHsKICAgICAgICAgIHRoaXMuY3VycmVudENsYXNlID0gY2xhc2U7CiAgICAgICAgICBpZiAoaSA8IHRoaXMuY2xhc2VEYXRhLmxlbmd0aCkgewogICAgICAgICAgICB0aGlzLm5leHRjbGFzZSA9IHRoaXMuY2xhc2VEYXRhW2kgKyAxXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChpID4gMCkgewogICAgICAgICAgICB0aGlzLnByZXZjbGFzZSA9IHRoaXMuY2xhc2VEYXRhW2kgLSAxXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gdGhpcy5hY3RpdmVJbmRleCA9IF9pbmRleAogICAgICAvLyBjb25zb2xlLmxvZygnY2xhc2VzOiAnK0pTT04uc3RyaW5naWZ5KGRhdGEpKQogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBlbWJlZFZpZGVvOiBmdW5jdGlvbih1cmwpIHsKICAgICAgbGV0IHZpZGVvID0gdXJsLnNwbGl0KCJ3YXRjaD92PSIpOwogICAgICByZXR1cm4gdmlkZW9bMF0gKyAiZW1iZWQvIiArIHZpZGVvWzFdOwogICAgfSwKICAgIC8vIGZ1bnRpb25zIHRvIGNvbnZlcnQgVGV4dCBpbnRvIHNsdWcKICAgIGNvbnZlcnRUb1NsdWc6IGZ1bmN0aW9uKHN0cikgewogICAgICBzdHIgPSBzdHIucmVwbGFjZSgvXlxzK3xccyskL2csICIiKTsgLy8gdHJpbQogICAgICBzdHIgPSBzdHIudG9Mb3dlckNhc2UoKTsKCiAgICAgIC8vIHJlbW92ZSBhY2NlbnRzLCBzd2FwIMOxIGZvciBuLCBldGMKICAgICAgdmFyIGZyb20gPSAiw6PDoMOhw6TDouG6vcOow6nDq8Oqw6zDrcOvw67DtcOyw7PDtsO0w7nDusO8w7vDscOnwrcvXyw6OyI7CiAgICAgIHZhciB0byA9ICJhYWFhYWVlZWVlaWlpaW9vb29vdXV1dW5jLS0tLS0tIjsKICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoZnJvbS5jaGFyQXQoaSksICJnIiksIHRvLmNoYXJBdChpKSk7CiAgICAgIH0KCiAgICAgIHN0ciA9IHN0cgogICAgICAgIC5yZXBsYWNlKC9bXmEtejAtOSAtXS9nLCAiIikgLy8gcmVtb3ZlIGludmFsaWQgY2hhcnMKICAgICAgICAucmVwbGFjZSgvXHMrL2csICItIikgLy8gY29sbGFwc2Ugd2hpdGVzcGFjZSBhbmQgcmVwbGFjZSBieSAtCiAgICAgICAgLnJlcGxhY2UoLy0rL2csICItIik7IC8vIGNvbGxhcHNlIGRhc2hlcwoKICAgICAgcmV0dXJuIHN0cjsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["CursoClase.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"CursoClase.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"clases\">\n    <section\n      class=\"bg-light py-5\"\n      style=\"background-image: url('https://themes.startbootstrap.com/sb-ui-kit-pro/assets/img/pattern-shapes.png')\"\n    >\n      <div class=\"container\">\n        <div v-if=\"loading\">\n          <h3>Cargando...</h3>\n        </div>\n        <div v-else>\n          <div class=\"row\" v-if=\"!error\">\n            <div class=\"col-md-12 mb-3 d-flex justify-content-between\">\n              <div class=\"btn-control-header\">\n                <router-link :to=\"{ path: '/cursos' }\">\n                  <i class=\"fas fa-home\"></i> Ir a Cursos\n                </router-link>\n              </div>\n              <div class=\"title\">\n                <h1>Estas en: {{ currentClase.name }}</h1>\n              </div>\n              <div class=\"btn-control-header\">\n                <router-link\n                  :to=\"{ path: '/cursos/' + this.$route.query.curso }\"\n                >\n                  Ver Indice del Curso <i class=\"fas fa-list-ul fa-sm\"></i>\n                </router-link>\n              </div>\n            </div>\n            <div class=\"col-lg-12 col-xl-12\">\n              <div class=\"card\">\n                <div class=\"card-body\">\n                  <div class=\"card bg-gray-900\">\n                    <div class=\"card-body p-0\">\n                      <div class=\"video\">\n                        <iframe\n                          width=\"100%\"\n                          height=\"100%\"\n                          :src=\"embedVideo(currentClase.urlvideo)\"\n                          frameborder=\"0\"\n                          allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n                          allowfullscreen\n                        ></iframe>\n                      </div>\n                    </div>\n                    <div class=\"card-footer bg-gray-900\">\n                      <div class=\"btn-controls\">\n                        <div class=\"btn-control-anterior\">\n                          <div v-if=\"prevclase != null\">\n                            <router-link\n                              class=\"list-group-item list-group-item-action py-2 bg-light rounded-pill lift lift-sm\"\n                              :to=\"{\n                                path:\n                                  '/cursos/' +\n                                  this.$route.query.curso +\n                                  '/' +\n                                  convertToSlug(prevclase.name) +\n                                  '?clase=' +\n                                  prevclase.id +\n                                  '&tema=' +\n                                  prevclase.idtema +\n                                  '&curso=' +\n                                  this.$route.query.curso\n                              }\"\n                              ><div class=\"text-center small text-dark\">\n                                <i\n                                  class=\"fas fa-long-arrow-alt-left text-xs ml-1\"\n                                ></i>\n                                <span class=\"hide-on-mibile\">Clase</span>\n                                Anterior\n                              </div>\n                            </router-link>\n                          </div>\n                          <div v-else>\n                            <router-link\n                              class=\"list-group-item list-group-item-action py-2 bg-white rounded-pill lift lift-sm\"\n                              :to=\"{\n                                path: '/cursos/' + this.$route.query.curso\n                              }\"\n                              ><div class=\"text-center small text-dark\">\n                                <i\n                                  class=\"fas fa-long-arrow-alt-left text-xs ml-1\"\n                                ></i>\n                                Regresar\n                                <span class=\"hide-on-mibile\"\n                                  >a Temas del Curso</span\n                                >\n                              </div>\n                            </router-link>\n                          </div>\n                        </div>\n                        <div class=\"btn-control-siguiente\">\n                          <div v-if=\"nextclase != null\">\n                            <router-link\n                              class=\"list-group-item list-group-item-action py-2 bg-primary rounded-pill lift lift-sm\"\n                              :to=\"{\n                                path:\n                                  '/cursos/' +\n                                  this.$route.query.curso +\n                                  '/' +\n                                  convertToSlug(nextclase.name) +\n                                  '?clase=' +\n                                  nextclase.id +\n                                  '&tema=' +\n                                  nextclase.idtema +\n                                  '&curso=' +\n                                  this.$route.query.curso\n                              }\"\n                              ><div class=\"text-center small text-white\">\n                                Siguiente\n                                <span class=\"hide-on-mibile\">Clase</span\n                                ><i\n                                  class=\"fas fa-long-arrow-alt-right text-xs ml-1\"\n                                ></i>\n                              </div>\n                            </router-link>\n                          </div>\n                          <div v-else>\n                            <span class=\"text-white font-weight-bold\"\n                              >Terminaste el Curso!!</span\n                            >\n                            <router-link\n                              class=\"list-group-item list-group-item-action py-2 bg-success rounded-pill lift lift-sm\"\n                              :to=\"{ path: '/cursos' }\"\n                              ><div class=\"text-center small text-white\">\n                                Ir a Cursos\n                                <i\n                                  class=\"fas fa-long-arrow-alt-right text-xs ml-1\"\n                                ></i>\n                              </div>\n                            </router-link>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"row mt-5\">\n                    <hr />\n                    <div class=\"col-lg-12\">\n                      <h3>Comentarios</h3>\n                      <textarea\n                        class=\"form-control py-3\"\n                        id=\"inputMessage\"\n                        type=\"text\"\n                        placeholder=\"Igresa tu comentario...\"\n                        rows=\"4\"\n                      ></textarea>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div v-else class=\"col-md-12 mb-3 text-center\">\n            <h3>Upps, al parecer la URL no es correcta,</h3>\n            <router-link\n              class=\"btn py-2 bg-primary rounded-pill lift lift-sm\"\n              :to=\"{ path: '/cursos' }\"\n              ><div class=\"text-center small text-white\">\n                Regresar a Cursos\n                <i class=\"fas fa-long-arrow-alt-right text-xs ml-1\"></i>\n              </div>\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      claseData: [],\n      currentClase: [],\n      nextclase: null,\n      prevclase: null,\n      loading: true,\n      error: false\n    };\n  },\n  created() {\n    if (\n      this.$route.query.tema == null ||\n      this.$route.query.clase == null ||\n      this.$route.query.curso == null\n    ) {\n      this.error = true;\n      // console.log('Some Query Params are empty')\n    } else {\n      this.getClasesData(\n        this.$store.getters.getIdColegio,\n        this.$store.getters.getIdGrado,\n        this.$route.query.curso\n      );\n\n      // this.getClasesData(this.$route.query.tema)\n    }\n  },\n  methods: {\n    getClasesData: async function(_colegio, _grado, _slug) {\n      this.loading = true;\n      const response = await fetch(\n        \"https://cappstudios.com/tools/studia-pro/api/actions/clases.data.json.php?colegio=\" +\n          _colegio +\n          \"&grado=\" +\n          _grado +\n          \"&slug=\" +\n          _slug\n      );\n      const data = await response.json();\n      this.claseData = await data;\n      for (let i = 0; i < this.claseData.length; i++) {\n        const clase = this.claseData[i];\n        if (clase.id == this.$route.query.clase) {\n          this.currentClase = clase;\n          if (i < this.claseData.length) {\n            this.nextclase = this.claseData[i + 1];\n          }\n          if (i > 0) {\n            this.prevclase = this.claseData[i - 1];\n          }\n        }\n      }\n      // this.activeIndex = _index\n      // console.log('clases: '+JSON.stringify(data))\n      this.loading = false;\n    },\n    embedVideo: function(url) {\n      let video = url.split(\"watch?v=\");\n      return video[0] + \"embed/\" + video[1];\n    },\n    // funtions to convert Text into slug\n    convertToSlug: function(str) {\n      str = str.replace(/^\\s+|\\s+$/g, \"\"); // trim\n      str = str.toLowerCase();\n\n      // remove accents, swap ñ for n, etc\n      var from = \"ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;\";\n      var to = \"aaaaaeeeeeiiiiooooouuuunc------\";\n      for (var i = 0, l = from.length; i < l; i++) {\n        str = str.replace(new RegExp(from.charAt(i), \"g\"), to.charAt(i));\n      }\n\n      str = str\n        .replace(/[^a-z0-9 -]/g, \"\") // remove invalid chars\n        .replace(/\\s+/g, \"-\") // collapse whitespace and replace by -\n        .replace(/-+/g, \"-\"); // collapse dashes\n\n      return str;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.btn-controls {\n  display: flex;\n  justify-content: space-between;\n}\n.video {\n  height: 500px;\n}\n@media only screen and (max-width: 600px) {\n  .btn-control-header {\n    display: none;\n  }\n  .hide-on-mibile {\n    display: none;\n  }\n  .container {\n    padding-right: 5px;\n    padding-left: 5px;\n  }\n  .video {\n    height: 200px;\n  }\n  .list-group-item {\n    padding: 5px 15px;\n  }\n}\n@media screen and (max-width: 800px) {\n  .video {\n    height: 300px;\n  }\n}\n</style>\n"]}]}