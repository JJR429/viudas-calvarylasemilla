{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/src/views/Registrarse.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/src/views/Registrarse.vue","mtime":1602336276246},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vue/elecciones/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRuaTogIiIsCiAgICAgIG5vbWJyZXM6ICIiLAogICAgICBhcGVsbGlkb3M6ICIiLAogICAgICBmb3RvdXJsOiJodHRwczovL3d3dy5mbGF0aWNvbi5jb20vc3ZnL3N0YXRpYy9pY29ucy9zdmcvODEzLzgxMzI1My5zdmciLAogICAgICB0aXBvdXN1YXJpbzogIjAiLAogICAgICBlbWFpbDogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgZXN0YWRvOiAwLAogICAgICBvcmdhbml6YWNpb246IDAsCiAgICAgIGVycm9yOiBmYWxzZSwKICAgICAgZXJyb3JfbWVzc2FnZTogIiIsCiAgICAgIG9yZ2FuaXphY2lvbmVzOiB7CiAgICAgICAgZGF0YTogW10sCiAgICAgICAgbG9hbmRpbmc6IHRydWUKICAgICAgfSwKICAgICAgaG9zdDp0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldEhvc3QKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuZ2V0T3JnYW5pemFjaW9uZXMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldE9yZ2FuaXphY2lvbmVzOiBhc3luYyBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5vcmdhbml6YWNpb25lcy5sb2FuZGluZyA9IHRydWU7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goCiAgICAgICAgdGhpcy5ob3N0KyIvbWF5dm90by9hcGkvYWN0aW9ucy9vcmdhbml6YWNpb25lcy5waHAiKTsKICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgdGhpcy5vcmdhbml6YWNpb25lcy5kYXRhID0gYXdhaXQgZGF0YTsKICAgICAgdGhpcy5vcmdhbml6YWNpb25lcy5sb2FuZGluZyA9IGZhbHNlOwogICAgfSwKICAgIHZlcmlmeUlucHV0cygpIHsKICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlVGV4dCh0aGlzLm5vbWJyZXMpKSB7CiAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJvcl9tZXNzYWdlID0gIkluZ3Jlc2EgdHUgTm9tYnJlIjsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlVGV4dCh0aGlzLmFwZWxsaWRvcykpIHsKICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTsKICAgICAgICB0aGlzLmVycm9yX21lc3NhZ2UgPSAiSW5ncmVzYSB0dXMgQXBlbGxpZG9zIjsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlRE5JKHRoaXMuZG5pKSkgewogICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyb3JfbWVzc2FnZSA9ICJQb24gdW4gRE5JIFbDoWxpZG8gKDggZMOtZ2l0b3MpIjsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlU2VsZWN0cyh0aGlzLnRpcG91c3VhcmlvKSkgewogICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyb3JfbWVzc2FnZSA9ICJFc2NvamUgdW5hIG9wY2nDs24iOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBpZiAoIXRoaXMudmFsaWRhdGVTZWxlY3RzKHRoaXMub3JnYW5pemFjaW9uKSkgewogICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyb3JfbWVzc2FnZSA9ICJFc2NvamEgdW5hIG9wY2nDs24iOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBpZiAoIXRoaXMudmFsaWRhdGVFbWFpbCh0aGlzLmVtYWlsKSkgewogICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyb3JfbWVzc2FnZSA9ICJJbmdyZXNlIHVuIGNvcnJlIGVsZWN0csOzbmljbyB2w6FsaWRvIjsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlUGFzcyh0aGlzLnBhc3N3b3JkKSkgewogICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyb3JfbWVzc2FnZSA9ICJMYSBjb250cmFzZcOxYSBkZWJlIHNlciBtYXlvciBhIDQgZMOtZ2l0b3MiOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBhc3luYyByZWdpc3RlcigpIHsKICAgICAgaWYgKHRoaXMudmVyaWZ5SW5wdXRzKCkpIHsKICAgICAgICAvL2NhbGwgYXhpb3MgdG8gc2luZyB1cAogICAgICAgIC8vIHRoZW4gZ28gdG8gc2luZ2luID09PT0gbG9naW4KICAgICAgICBsZXQgX2RhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBfZGF0YS5zZXQoImRuaSIsIHRoaXMuZG5pKTsKICAgICAgICBfZGF0YS5zZXQoIm5vbWJyZXMiLCB0aGlzLm5vbWJyZXMpOwogICAgICAgIF9kYXRhLnNldCgiYXBlbGxpZG9zIiwgdGhpcy5hcGVsbGlkb3MpOwogICAgICAgIF9kYXRhLnNldCgiZm90b3VybCIsIHRoaXMuZm90b3VybCk7CiAgICAgICAgX2RhdGEuc2V0KCJ0aXBvdXN1YXJpbyIsIHRoaXMudGlwb3VzdWFyaW8pOwogICAgICAgIF9kYXRhLnNldCgiZW1haWwiLCB0aGlzLmVtYWlsKTsKICAgICAgICBfZGF0YS5zZXQoInBhc3N3b3JkIiwgdGhpcy5wYXNzd29yZCk7CiAgICAgICAgX2RhdGEuc2V0KCJlc3RhZG8iLCB0aGlzLmVzdGFkbyk7CiAgICAgICAgX2RhdGEuc2V0KCJvcmdhbml6YWNpb24iLCB0aGlzLm9yZ2FuaXphY2lvbik7CiAgICAgICAgLy8gY29uc29sZS5sb2coX3VzZXIudXNlcm5hbWUgKycgfCAnKyBfdXNlci5wYXNzd29yZCkKICAgICAgICBheGlvcyh7CiAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgIHVybDoKICAgICAgICAgICAgdGhpcy5ob3N0KyIvbWF5dm90by9hcGkvYWN0aW9ucy9yZWdpc3Rlci5waHAiLAogICAgICAgICAgZGF0YTogX2RhdGEsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIgogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIC8vaGFuZGxlIHJlc3BvbnNlCiAgICAgICAgICAgIGlmICghcmVzcG9uc2UuZGF0YS5lcnJvcikgewogICAgICAgICAgICAgIGlmKHRoaXMudGlwb3VzdWFyaW8gPT0gIlZvdGFudGUiKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh0aGlzLiRyb3V0ZS5xdWVyeS5yZWRpcmVjdCB8fCAiL2xvZ2luIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmKHRoaXMudGlwb3VzdWFyaW8gPT0gIk9yZ2FuaXphZG9yIikgewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UodGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3QgfHwgIi9sb2dpbj9yZWRpcmVjdD0lMkZvcmdhbml6YWRvcmVzIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmKHRoaXMudGlwb3VzdWFyaW8gPT0gIlN1cGVydmlzb3IiKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh0aGlzLiRyb3V0ZS5xdWVyeS5yZWRpcmVjdCB8fCAiL2xvZ2luP3JlZGlyZWN0PSUyRnN1cGVydmlzb3JlcyIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vYXBpIHNlbmRzIDIgdHlwZSBvZiBlcnJvcnMgYnkgY29kZQogICAgICAgICAgICAgIC8vMTogRW1haWwgZXhpc3RzOyAyOiBFcnJvciB3aGlsZSBpbnNlcnRpbmcKICAgICAgICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09IDEpIHsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JfbWVzc2FnZSA9CiAgICAgICAgICAgICAgICAgICJFbCBjb3JyZW8gZWzDqWN0cm9uaWNvIG8gRE5JIHlhIGVzdGEgcmVnaXN0cmFkbywgaW50ZW50YSBjb24gb3RybyEiOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmVycm9yX21lc3NhZ2UgPQogICAgICAgICAgICAgICAgICAiVXBwcywgdGVuZW1vcyBwcm9ibGVtYXMgcGFyYSByZWdpc3RyYXJ0ZSEiOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIC8vaGFuZGxlIGVycm9yCiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHZhbGlkYXRlRW1haWw6IGZ1bmN0aW9uKGVtYWlsKSB7CiAgICAgIHZhciByZSA9IC9eKChbXjw+KClbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlwtMC05XStcLikrW2EtekEtWl17Mix9KSkkLzsKCiAgICAgIHJldHVybiByZS50ZXN0KGVtYWlsKTsKICAgIH0sCiAgICB2YWxpZGF0ZVRleHQ6IGZ1bmN0aW9uKHRleHQpIHsKICAgICAgcmV0dXJuIHRleHQubGVuZ3RoID4gMSA/IHRydWUgOiBmYWxzZTsKICAgIH0sCiAgICB2YWxpZGF0ZVBhc3M6IGZ1bmN0aW9uKHBhc3MpIHsKICAgICAgcmV0dXJuIHBhc3MubGVuZ3RoID4gMyA/IHRydWUgOiBmYWxzZTsKICAgIH0sCiAgICB2YWxpZGF0ZVNlbGVjdHM6IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHJldHVybiB2YWx1ZSAhPSAwID8gdHJ1ZSA6IGZhbHNlOwogICAgfSwKICAgIHZhbGlkYXRlRE5JOiBmdW5jdGlvbihzdHIpIHsKICAgICAgcmV0dXJuIHN0ci5sZW5ndGggPT0gOCA/IHRydWUgOiBmYWxzZTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["Registrarse.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4JA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Registrarse.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"singup\">\n    <header\n      class=\"page-header page-header-dark bg-img-repeat bg-secondary\"\n      style='background-image: url(\"assets/img/pattern-shapes.png\")'\n    >\n      <div class=\"page-header-content\">\n        <div class=\"container\">\n          <div class=\"row align-items-center\">\n            <div class=\"col-lg-5\">\n              <div\n                class=\"badge badge-marketing badge-pill badge-secondary-soft text-secondary mb-3\"\n              >\n                Empieza Ahora!\n              </div>\n              <h1 class=\"page-header-title\">Regístrate, en May Voto!</h1>\n              <p class=\"page-header-text\">\n                Organizadores, Supervisores y Votantes.\n              </p>\n              <p class=\"text-white mt-5\">¿Ya tienes una cuenta?</p>\n              <router-link\n                class=\"btn btn-white btn-marketing rounded-pill\"\n                :to=\"{ path: '/login' }\"\n                >Iniciar Sesion!</router-link\n              >\n            </div>\n            <div class=\"col-lg-7\">\n              <div class=\"card rounded-lg text-dark\">\n                <div class=\"card-header py-4\">\n                  Regístrate y empieza a estudiar!\n                </div>\n                <div class=\"card-body\">\n                  <form @submit.prevent=\"register\">\n                    <div class=\"form-row\">\n                      <div class=\"form-group col-md-6\">\n                        <label\n                          class=\"small text-gray-600\"\n                          for=\"leadCapFirstName\"\n                          >Nombres</label\n                        >\n                        <input\n                          v-model=\"nombres\"\n                          class=\"form-control\"\n                          type=\"text\"\n                        />\n                      </div>\n                      <div class=\"form-group col-md-6\">\n                        <label class=\"small text-gray-600\" for=\"leadCapLastName\"\n                          >Apellidos</label\n                        >\n                        <input\n                          v-model=\"apellidos\"\n                          class=\"form-control\"\n                          type=\"text\"\n                        />\n                      </div>\n                    </div>\n\n                    <div class=\"form-row\">\n                      <div class=\"form-group col-md-6\">\n                        <label class=\"small text-gray-600\" for=\"leadCapLastName\"\n                          >DNI</label\n                        >\n                        <input\n                          v-model=\"dni\"\n                          class=\"form-control\"\n                          type=\"number\"\n                        />\n                      </div>\n                      <div class=\"form-group col-md-6\">\n                        <label class=\"small text-gray-600\"\n                          >Tipo Usuario</label\n                        >\n                        <select\n                          v-model=\"tipousuario\"\n                          class=\"form-control rounded-pill\"\n                        >\n                          <option value=\"0\" selected>Escoge una opción</option>\n                          <option value=\"Votante\">Votante</option>\n                          <option value=\"Organizador\">Organizador</option>\n                          <option value=\"Supervisor\">Supervisor</option>\n                        </select>\n                      </div>\n                    </div>\n                    <div class=\"form-row\">\n                      <div class=\"form-group col-md-12\">\n                        <label class=\"small text-gray-600\"\n                          >Organización</label\n                        >\n                        <template v-if=\"organizaciones.data.length > 0\">\n                          <select\n                            v-model=\"organizacion\"\n                            class=\"form-control rounded-pill\"\n                          >\n                            <option value=\"0\" selected>Escoge una opción</option>\n                            <option v-for=\"organizacion in organizaciones.data\"\n                            v-bind:todo=\"organizacion\"\n                            v-bind:key=\"organizacion.id\" :value=\"organizacion.id\">{{organizacion.nombres}}</option>\n                          </select>\n                        </template>\n                      </div>\n                    </div>\n                    <div class=\"form-row\">\n                      <div class=\"form-group col-md-6\">\n                        <label class=\"small text-gray-600\" for=\"leadCapLastName\"\n                          >Email</label\n                        >\n                        <input\n                          v-model=\"email\"\n                          class=\"form-control\"\n                          type=\"email\"\n                        />\n                      </div>\n                      <div class=\"form-group col-md-6\">\n                        <label class=\"small text-gray-600\" for=\"leadCapLastName\"\n                          >Contraseña</label\n                        >\n                        <input\n                          v-model=\"password\"\n                          class=\"form-control\"\n                          type=\"password\"\n                        />\n                      </div>\n                    </div>\n                    <button\n                      class=\"btn btn-primary btn-marketing btn-block rounded-pill mt-4\"\n                      type=\"submit\"\n                    >\n                      Registrarse!\n                    </button>\n                  </form>\n                </div>\n                <div class=\"card-footer\" v-if=\"error\">\n                  <span class=\"error-message text-danger\">\n                    {{ error_message }}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"svg-border-angled text-white\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 100 100\"\n          preserveAspectRatio=\"none\"\n          fill=\"currentColor\"\n        >\n          <polygon points=\"0,100 100,0 100,100\"></polygon>\n        </svg>\n      </div>\n    </header>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      dni: \"\",\n      nombres: \"\",\n      apellidos: \"\",\n      fotourl:\"https://www.flaticon.com/svg/static/icons/svg/813/813253.svg\",\n      tipousuario: \"0\",\n      email: \"\",\n      password: \"\",\n      estado: 0,\n      organizacion: 0,\n      error: false,\n      error_message: \"\",\n      organizaciones: {\n        data: [],\n        loanding: true\n      },\n      host:this.$store.getters.getHost\n    };\n  },\n  created() {\n        this.getOrganizaciones();\n  },\n  methods: {\n    getOrganizaciones: async function() {\n      this.organizaciones.loanding = true;\n      const response = await fetch(\n        this.host+\"/mayvoto/api/actions/organizaciones.php\");\n      const data = await response.json();\n      this.organizaciones.data = await data;\n      this.organizaciones.loanding = false;\n    },\n    verifyInputs() {\n      if (!this.validateText(this.nombres)) {\n        this.error = true;\n        this.error_message = \"Ingresa tu Nombre\";\n        return false;\n      }\n      if (!this.validateText(this.apellidos)) {\n        this.error = true;\n        this.error_message = \"Ingresa tus Apellidos\";\n        return false;\n      }\n      if (!this.validateDNI(this.dni)) {\n        this.error = true;\n        this.error_message = \"Pon un DNI Válido (8 dígitos)\";\n        return false;\n      }\n      if (!this.validateSelects(this.tipousuario)) {\n        this.error = true;\n        this.error_message = \"Escoje una opción\";\n        return false;\n      }\n      if (!this.validateSelects(this.organizacion)) {\n        this.error = true;\n        this.error_message = \"Escoja una opción\";\n        return false;\n      }\n      if (!this.validateEmail(this.email)) {\n        this.error = true;\n        this.error_message = \"Ingrese un corre electrónico válido\";\n        return false;\n      }\n      if (!this.validatePass(this.password)) {\n        this.error = true;\n        this.error_message = \"La contraseña debe ser mayor a 4 dígitos\";\n        return false;\n      }\n      return true;\n    },\n    async register() {\n      if (this.verifyInputs()) {\n        //call axios to sing up\n        // then go to singin ==== login\n        let _data = new FormData();\n        _data.set(\"dni\", this.dni);\n        _data.set(\"nombres\", this.nombres);\n        _data.set(\"apellidos\", this.apellidos);\n        _data.set(\"fotourl\", this.fotourl);\n        _data.set(\"tipousuario\", this.tipousuario);\n        _data.set(\"email\", this.email);\n        _data.set(\"password\", this.password);\n        _data.set(\"estado\", this.estado);\n        _data.set(\"organizacion\", this.organizacion);\n        // console.log(_user.username +' | '+ _user.password)\n        axios({\n          method: \"post\",\n          url:\n            this.host+\"/mayvoto/api/actions/register.php\",\n          data: _data,\n          headers: {\n            \"content-type\": \"application/x-www-form-urlencoded\"\n          }\n        })\n          .then(response => {\n            //handle response\n            if (!response.data.error) {\n              if(this.tipousuario == \"Votante\") {\n                this.$router.replace(this.$route.query.redirect || \"/login\");\n              }\n              if(this.tipousuario == \"Organizador\") {\n                this.$router.replace(this.$route.query.redirect || \"/login?redirect=%2Forganizadores\");\n              }\n              if(this.tipousuario == \"Supervisor\") {\n                this.$router.replace(this.$route.query.redirect || \"/login?redirect=%2Fsupervisores\");\n              }\n                \n            } else {\n              //api sends 2 type of errors by code\n              //1: Email exists; 2: Error while inserting\n              this.error = true;\n              if (response.data.code == 1) {\n                this.error_message =\n                  \"El correo eléctronico o DNI ya esta registrado, intenta con otro!\";\n              } else {\n                this.error_message =\n                  \"Upps, tenemos problemas para registrarte!\";\n              }\n            }\n          })\n          .catch(response => {\n            //handle error\n            this.error = true;\n            console.log(response);\n          });\n      }\n    },\n    validateEmail: function(email) {\n      var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n      return re.test(email);\n    },\n    validateText: function(text) {\n      return text.length > 1 ? true : false;\n    },\n    validatePass: function(pass) {\n      return pass.length > 3 ? true : false;\n    },\n    validateSelects: function(value) {\n      return value != 0 ? true : false;\n    },\n    validateDNI: function(str) {\n      return str.length == 8 ? true : false;\n    }\n  }\n};\n</script>\n<style scoped>\n.icon-gender {\n  width: 50px;\n}\n</style>\n"]}]}